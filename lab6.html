<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <title>Lab6 - Shuling Rong</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
    crossorigin="anonymous"></script>
</head>

<body>
  <script>
    //GET
    async function getData() {

      const url = 'https://brianobruno.github.io/cats.json';
      const options = {method: 'GET'};

      const response = await fetch(url, options);
      const result = await response.text();
      const myObj = JSON.parse(result); 
      console.log(myObj);

      for(var i in myObj.facts){
        var index = myObj.facts[i].factId;
        var factid = "factId" + [index];
        var textid = "text" + [index]; 
       
        document.getElementById(factid).innerHTML = myObj.facts[i].factId;
        document.getElementById(textid).innerHTML = myObj.facts[i].text;
      }

      document.getElementById("picture").src = myObj.catPhoto;
    }

  </script>
  <h1 class="text-center text-primary">Lab6 - Consuming a REST API</h1>
  <br>
  <div class = "container-fluid">
    <div class="row">
    <div class = "col-9">
      <table class="table table-striped">
        <tr>
          <th class = "tex">FactId</th>
          <th class = "text-center">Fact Text</th>
        </tr>
        <tr>
          <th id = "factId1">NULL</th>
          <th id="text1">NULL</th>
        </tr>
        <tr>
          <th id = "factId2">NULL</th>
          <th id="text2">NULL</th>
        </tr>
        <tr>
          <th id = "factId3">NULL</th>
          <th id="text3">NULL</th>
        </tr>
        <tr>
          <th id = "factId4">NULL</th>
          <th id="text4">NULL</th>
        </tr>
        <tr>
          <th id = "factId5">NULL</th>
          <th id="text5">NULL</th>
        </tr>
      </table>
      <button onclick=" getData();" type="button" class="btn btn-primary">Get Data</button>
    </div>
    <div class = "col-3">
      <img
      src="https://cdn.pixabay.com/photo/2017/09/25/13/12/puppy-2785074_640.jpg" class="rounded-circle img-fluid" id = "picture"></img>
    </div>
    </div>
  </div>

  <hr> <!-- Horizontal rule -->
  <div class = "container">
    March 21, 2024 - Shuling Rong
  </div>
</body>

</html>
